<div [@routerTransition]>
    <div class="content d-flex flex-column flex-column-fluid">
        <div [class]="containerClass">
            <div class="card card-custom gutter-b">
                <div class="card-body">
                    <div class="row mb-4">
                        <div class="col-xl-10 text-end">
                            <button name="DeleteButton" class="btn btn-danger" disabled>
                                <i class="fas fa-trash"></i>
                                {{ 'Xoa' | localize }}
                            </button>
                        </div>
                    </div>
                    <div class="row align-items-center">
                        <!--<Primeng-TurboTable-Start>-->
                        <div class="col primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
                            <p-table #dataTable sortMode="multiple" (onLazyLoad)="getTenants($event)"
                            [value]="primengTableHelper.records"
                                rows="{{ primengTableHelper.defaultRecordsCountPerPage }}" [paginator]="false"
                                [lazy]="true" [responsive]="primengTableHelper.isResponsive">
                                <ng-template pTemplate="header">
                                    <tr>
                                        
                                        <th pSortableColumn="tenancyName">
                                            {{ 'TenancyCodeName' | localize }}
                                            <p-sortIcon field="tenancyName"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="name">
                                            {{ 'TenantName' | localize }}
                                            <p-sortIcon field="name"></p-sortIcon>
                                        </th>
                                        <th>{{ 'Edition' | localize }}</th>
                                        <th pSortableColumn="subscriptionEndDateUtc">
                                            {{ 'SubscriptionEndDateUtc' | localize }}
                                            <p-sortIcon field="subscriptionEndDateUtc"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="isActive">
                                            {{ 'Active' | localize }}
                                            <p-sortIcon field="isActive"></p-sortIcon>
                                        </th>
                                        <th pSortableColumn="creationTime">
                                            {{ 'CreationTime' | localize }}
                                            <p-sortIcon field="creationTime"></p-sortIcon>
                                        </th>
                                    </tr>
                                </ng-template>
                                <ng-template pTemplate="body" let-record="$implicit">
                                    <tr>
                                        <td>
                                            <span class="p-column-title">{{ 'TenancyCodeName' | localize }}</span>
                                            <i *ngIf="record.connectionString" class="fa fa-database"
                                                title="{{ 'HasOwnDatabase' | localize }}"></i>
                                            {{ record.tenancyName }}
                                        </td>
                                        <td>
                                            <span class="p-column-title">{{ 'Name' | localize }}</span>
                                            {{ record.name }}
                                        </td>
                                        <td>
                                            <span class="p-column-title">{{ 'Edition' | localize }}</span>
                                            {{ record.editionDisplayName }}
                                        </td>
                                        <td>
                                            <span class="p-column-title">
                                                {{ 'SubscriptionEndDateUtc' | localize }}
                                            </span>
                                            {{
                                            record.subscriptionEndDateUtc
                                            ? (record.subscriptionEndDateUtc | luxonFormat: 'F')
                                            : '-'
                                            }}
                                        </td>
                                        <td>
                                            <span class="p-column-title">{{ 'Active' | localize }}</span>
                                            <span *ngIf="record.isActive" class="badge badge-success badge-inline">
                                                {{ 'Yes' | localize }}
                                            </span>
                                            <span *ngIf="!record.isActive" class="badge badge-dark badge-inline">
                                                {{ 'No' | localize }}
                                            </span>
                                        </td>
                                        <td>
                                            <span class="p-column-title">{{ 'CreationTime' | localize }}</span>
                                            {{ record.creationTime | luxonFormat: 'F' }}
                                        </td>
                                    </tr>
                                </ng-template>
                            </p-table>
                            <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                                {{ 'NoData' | localize }}
                            </div>
                            <div class="primeng-paging-container">
                                <p-paginator [rows]="primengTableHelper.defaultRecordsCountPerPage" #paginator
                                    (onPageChange)="getTenants($event)"
                                    [totalRecords]="primengTableHelper.totalRecordsCount"
                                    [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage"
                                    [showCurrentPageReport]="true" [currentPageReportTemplate]="
                                        'TotalRecordsCount' | localize: primengTableHelper.totalRecordsCount
                                    "></p-paginator>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <p>luu-tru works!</p>
    </div>
</div>